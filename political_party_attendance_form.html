<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Party Attendance - EventLens</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] }
        }
      }
    }
  </script>
  <style>
    :root {
      --c1: #f97316; /* primary */
      --c2: #ef4444; /* secondary */
      --bgimg: none;
    }
    body {
      background:
        radial-gradient(circle at top left, rgba(249, 115, 22, 0.14), transparent 50%),
        radial-gradient(circle at bottom right, rgba(234, 88, 12, 0.10), transparent 50%),
        linear-gradient(180deg, rgba(2, 6, 23, 0.92), rgba(2, 6, 23, 0.98)),
        var(--bgimg);
      background-size: cover;
      background-attachment: fixed;
      color: #fff;
    }
    .glass {
      background: rgba(30, 41, 59, 0.75);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.10);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.40);
    }
    .input-field {
      background: rgba(15, 23, 42, 0.55);
      border: 1px solid rgba(255, 255, 255, 0.10);
      color: white;
      transition: all 0.25s ease;
    }
    .input-field:focus {
      border-color: var(--c1);
      box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.18);
      outline: none;
    }
    .input-field:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      background: rgba(15, 23, 42, 0.35);
    }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }

    .brand-text {
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      background-image: linear-gradient(to right, var(--c1), var(--c2));
    }
    .brand-bg { background-image: linear-gradient(to right, var(--c1), var(--c2)); }
    .brand-ring { box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.16); }
  </style>
</head>
    <body class="min-h-screen flex items-center justify-center p-4 font-sans">

    <div class="w-full max-w-lg glass rounded-2xl p-6 relative overflow-hidden transition-all duration-500" id="main-container">
    <div class="absolute top-0 left-0 w-full h-1 brand-bg"></div>

    <!-- Header banner (Admin branding) -->
    <div id="header-wrap" class="hidden w-full rounded-xl mb-4 overflow-hidden bg-slate-800/40 border border-white/5">
      <img id="header-image" alt="Header" class="w-full h-32 sm:h-44 object-cover object-center" />
    </div>

    <div class="text-center mb-6" id="form-header">
        <!-- Logo (Admin branding) -->
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/10 text-orange-500 mb-3 overflow-hidden border border-white/10">
            <i id="default-icon" class="fa-solid fa-people-group text-3xl"></i>
            <img id="custom-logo" src="" class="w-full h-full object-contain scale-[1.15] hidden" alt="logo">
        </div>
        <h1 id="org-name" class="text-2xl font-extrabold brand-text">पार्टी उपस्थिति फॉर्म</h1>
        <p id="org-subtitle" class="text-slate-300/80 text-xs mt-1">Party Attendance</p>
        <p id="org-tagline" class="text-slate-400 text-[11px] mt-2 hidden"></p>
    </div>

      <form id="f" class="space-y-4">
        <div>
          <label class="block text-xs font-medium text-slate-300/80 mb-1">मोबाइल नंबर (Mobile)</label>
          <div class="relative">
            <input type="tel" id="mobile" class="w-full rounded-lg px-3 py-2.5 text-sm input-field pl-10" placeholder="10-digit Number" inputmode="numeric" pattern="[0-9]{10}" required>
            <i class="fa-solid fa-phone absolute left-3 top-3 text-slate-500 text-xs"></i>
            <div id="mobile-loader" class="absolute right-3 top-3 hidden">
              <i class="fa-solid fa-circle-notch fa-spin text-orange-400"></i>
            </div>
          </div>
          <p id="user-found-msg" class="text-[10px] text-emerald-400 mt-1 hidden">
            <i class="fa-solid fa-check-circle mr-1"></i> डेटा मिला! विवरण भर दिया गया है।
          </p>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">नाम</label>
            <input type="text" id="name" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" placeholder="Name" required>
          </div>
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">पद</label>
            <input type="text" id="designation" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" placeholder="Designation">
          </div>
        </div>

        <div>
          <label class="block text-xs font-medium text-slate-300/80 mb-1">कार्यक्रम का नाम</label>
          <div class="relative">
            <select id="program_name" class="w-full rounded-lg px-3 py-2.5 text-sm input-field appearance-none" required>
              <option value="">— कार्यक्रम चुनें —</option>
              <option value="कार्यक्रम-1">कार्यक्रम-1</option>
            </select>
            <i class="fa-solid fa-chevron-down absolute right-3 top-3.5 text-slate-500 text-xs pointer-events-none"></i>
          </div>
          <p class="text-[10px] text-slate-400 mt-1">नये कार्यक्रम का नाम एडमिन कंसोल से सेट होगा।</p>
        </div>

        <div>
          <label class="block text-xs font-medium text-slate-300/80 mb-1">जिला</label>
          <select id="district" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" style="font-family: \'Kruti Dev 010\', \'Kruti Dev\', Mangal, Nirmala UI, sans-serif;">
            <option value="">— जिला चुनें —</option>
          </select>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">विधानसभा</label>
            <select id="vidhansabha" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" disabled>
              <option value="">— पहले जिला चुनें —</option>
            </select>
          </div>
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">मंडल</label>
            <select id="mandal" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" disabled style="font-family: \'Kruti Dev 010\', \'Kruti Dev\', Mangal, Nirmala UI, sans-serif;">
              <option value="">— पहले विधानसभा चुनें —</option>
            </select>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">तारीख</label>
            <input type="date" id="attendance_date" class="w-full rounded-lg px-3 py-2.5 text-sm input-field">
          </div>
          <div>
            <label class="block text-xs font-medium text-slate-300/80 mb-1">समय</label>
            <input type="time" id="attendance_time" class="w-full rounded-lg px-3 py-2.5 text-sm input-field">
          </div>
        </div>

        <div>
          <label class="block text-xs font-medium text-slate-300/80 mb-1">टिप्पणी</label>
          <textarea id="remarks" rows="3" class="w-full rounded-lg px-3 py-2.5 text-sm input-field" placeholder="Remarks / Notes"></textarea>
        </div>

        <button type="submit" id="submitBtn" class="w-full brand-bg text-white font-extrabold py-3 rounded-xl shadow-lg shadow-orange-500/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2 hover:opacity-95">
          <span>सुरक्षित करें (Save)</span><i class="fa-solid fa-paper-plane text-xs"></i>
        </button>
      </form>

    <div id="status" class="mt-4 text-center text-xs font-medium hidden"></div>
    <div class="mt-4 text-center text-[11px] text-slate-400/80">
      <span id="footer-text"></span>
    </div>
</div>

    <!-- SUCCESS SCREEN -->
<div id="success-screen" class="hidden w-full max-w-lg glass rounded-2xl p-8 text-center flex flex-col items-center justify-center min-h-[420px]">
    <div class="w-20 h-20 bg-emerald-500/15 text-emerald-400 rounded-full flex items-center justify-center mb-6 text-4xl shadow-lg shadow-emerald-500/10 border border-emerald-500/20">
        <i class="fa-solid fa-check"></i>
    </div>
    <h2 class="text-2xl font-extrabold text-white mb-2">धन्यवाद!</h2>
    <p id="success-msg" class="text-slate-200/90 mb-8 leading-relaxed">उपस्थिति की जानकारी सेव कर ली गई है।</p>
    <button onclick="window.location.reload()" class="px-6 py-2.5 bg-white/10 hover:bg-white/15 border border-white/10 rounded-lg text-sm text-white transition">
        <i class="fa-solid fa-rotate-right mr-2"></i> नया फॉर्म
    </button>
</div>

    <script>
    // ===============================
// COMMON CONFIG & UTILS
// ===============================
const API_ID = "vxid0yoovj";
const AWS_REGION = "ap-south-1";
const BASE_URL = `https://${API_ID}.execute-api.${AWS_REGION}.amazonaws.com/prod`;

const $ = (id) => document.getElementById(id);
const qs = (n) => { try { return (new URL(window.location.href)).searchParams.get(n) || ""; } catch (e) { return ""; } };
const token = (qs("token") || "").trim();
const cidParam = (qs("cid") || qs("collection_id") || qs("id") || "").trim();

// Backward compatible globals expected by older helpers
const TOKEN = token || "";
let CID = cidParam || "";

// If cid/collection_id is not present in URL, derive it from token payload
function _b64urlDecode(str) {
  try {
    str = (str || "").replace(/-/g, "+").replace(/_/g, "/");
    const pad = str.length % 4;
    if (pad) str += "=".repeat(4 - pad);
    return atob(str);
  } catch (_) {
    return null;
  }
}

function parseTokenClaims(tok) {
  try {
    const part = (tok || "").split(".")[0];
    const decoded = _b64urlDecode(part);
    if (!decoded) return null;
    return JSON.parse(decoded);
  } catch (_) {
    return null;
  }
}

if (!CID && TOKEN) {
  const claims = parseTokenClaims(TOKEN);
  if (claims) {
    CID = claims.cid || claims.collection_id || claims.collectionId || "";
  }
}
const levelParam = (qs("level") || "").trim().toLowerCase(); // district | vidhansabha | mandal
const debug = (qs("debug") || "").trim() === "1";

function isPublicMode() { return !!TOKEN; }

function setThemeVars(c1, c2) {
  if (c1) document.documentElement.style.setProperty("--c1", c1);
  if (c2) document.documentElement.style.setProperty("--c2", c2);
}
function setBackgroundImage(url) {
  if (!url) return;
  document.documentElement.style.setProperty("--bgimg", `url('${url}')`);
}

function showStatus(msg, isError) {
  const el = $("status");
  if (!el) return;
  el.classList.remove("hidden","text-green-400","text-red-400");
  el.classList.add(isError ? "text-red-400" : "text-green-400");
  el.textContent = msg || "";
  if (!msg) el.classList.add("hidden");
}

async function apiCall(action, payload) {
  const path = "/political/forms"; // use same endpoint (has CORS).
  const url = `${BASE_URL}${path}`;
  const res = await fetch(url, {
    method: "POST",
    cache: "no-store",
    // NOTE: no custom headers (avoids CORS preflight)
    body: JSON.stringify({ action, payload: payload || {} })
  });
  const text = await res.text();
  let data = {};
  try { data = JSON.parse(text); } catch(e) { data = { message: text || "Invalid JSON" }; }
  if (!res.ok) throw new Error(data.message || data.error || `HTTP ${res.status}`);
  return data;
}


  // Backward compat: some older form templates call apiCallPublic()
  async function apiCallPublic(action, payload) {
    return apiCall(action, payload);
  }


function safeStr(v) { return (v === null || v === undefined) ? "" : String(v); }

async function sha256Hex(file) {
  const buffer = await file.arrayBuffer();
  const hashBuffer = await crypto.subtle.digest("SHA-256", buffer);
  return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2,'0')).join('');
}

async function uploadToS3(url, file) {
  await fetch(url, { method: "PUT", body: file, headers: { "Content-Type": file.type || "application/octet-stream" } });
}

function mergeObj(a, b) {
  const out = Object.assign({}, a || {});
  Object.keys(b || {}).forEach(k => {
    if (b[k] && typeof b[k] === "object" && !Array.isArray(b[k])) out[k] = mergeObj(out[k], b[k]);
    else out[k] = b[k];
  });
  return out;
}

// ===============================
// BRANDING + PROGRAMS + FIXED LEVEL
// ===============================
async function loadRemoteConfig(formType) {
  try {
    const payload = {
      cid: CID,
      collection_id: CID,
      form_type: formType,
      token: TOKEN,
    _ts: Date.now(),
    };
    // IMPORTANT: return FULL response (it contains: settings, config, form, form_type)
    const res = await apiCallPublic("public_get_config", payload);
    return res || null;
  } catch (e) {
    console.error("loadRemoteConfig failed:", e);
    return null;
  }
}

function safeStr(x) {
  return (x === undefined || x === null) ? "" : String(x);
}

// ---------- Helpers to read NEW API shape ----------
function getDefaultsNode(resp) {
  return (resp && resp.settings && resp.settings.defaults) ||
         (resp && resp.config && resp.config.defaults) ||
         null;
}

function getGlobalNode(resp) {
  return (resp && resp.settings && resp.settings.global) ||
         (resp && resp.config && resp.config.global) ||
         null;
}

function getFormNode(resp, formType) {
  if (!resp) return null;

  // Backend may return resolved `form` shortcut for the requested form_type
  if (resp.form && typeof resp.form === "object") {
    const want = (formType || resp.form_type || FORM_TYPE);
    if (!resp.form_type || resp.form_type === want) return resp.form;
  }

  const ft = formType || resp.form_type || FORM_TYPE;

  if (resp.settings && resp.settings.forms && resp.settings.forms[ft]) return resp.settings.forms[ft];
  if (resp.config && resp.config.forms && resp.config.forms[ft]) return resp.config.forms[ft];

  return null;
}

function pickAssetUrl(assetObj, fallbackUrl) {
  if (!assetObj) return safeStr(fallbackUrl || "");
  if (typeof assetObj === "string") return assetObj;
  return safeStr(assetObj.url || fallbackUrl || "");
}

function pickBranding(resp, formNode) {
  const defaults = getDefaultsNode(resp) || {};
  // form branding > defaults branding > empty
  return (formNode && formNode.branding) || defaults.branding || {};
}

function applyBrandingFromResponse(resp, formType) {
  const formNode = getFormNode(resp, formType) || {};
  const branding = pickBranding(resp, formNode);
  const globalNode = getGlobalNode(resp) || {};
  const globalTheme = globalNode.theme || {};

  // Text
  const orgNameEl = $("org-name");
  const orgSubtitleEl = $("org-subtitle");
  const orgTaglineEl = $("org-tagline");
  if (orgNameEl) orgNameEl.textContent = safeStr(formNode.title || orgNameEl.textContent);
  if (orgSubtitleEl) orgSubtitleEl.textContent = safeStr(formNode.subtitle || orgSubtitleEl.textContent);
  if (orgTaglineEl) orgTaglineEl.textContent = safeStr(formNode.tagline || branding.tagline || orgTaglineEl.textContent);

  // Footer
  const footerTextEl = $("footer-text");
  if (footerTextEl) footerTextEl.textContent = safeStr(globalNode.tagline || "Powered by EventLens");

  // Images (use signed URLs if present)
  const logoUrl = pickAssetUrl(branding.logo, formNode.logo_url);
  const headerUrl = pickAssetUrl(branding.header, formNode.header_url);
  const bgUrl = pickAssetUrl(branding.background, formNode.background_url);

  const logoEl = $("custom-logo");
  const iconEl = $("default-icon");
  if (logoEl && logoUrl) {
    logoEl.src = logoUrl;
    logoEl.classList.remove("hidden");
    if (iconEl) iconEl.classList.add("hidden");
  } else {
    if (iconEl) iconEl.classList.remove("hidden");
    if (logoEl) logoEl.classList.add("hidden");
  }
  if (logoEl) {
    logoEl.onerror = () => {
      try { logoEl.classList.add("hidden"); } catch(e) {}
      try { if (iconEl) iconEl.classList.remove("hidden"); } catch(e) {}
    };
  }

  // Header banner (show wrapper only when we have a URL)
  const headerWrap = $("header-wrap");
  const headerImg = $("header-image");
  if (headerWrap && headerImg && headerUrl) {
    headerImg.src = headerUrl;
    headerWrap.classList.remove("hidden");
    try { headerImg.onerror = () => { headerWrap.classList.add("hidden"); }; } catch (e) {}
  } else if (headerWrap) {
    headerWrap.classList.add("hidden");
  }

  // Optional background image (validate once to avoid ORB/XML showing as an image)
  if (bgUrl) {
    const testImg = new Image();
    testImg.onload = () => {
      document.documentElement.style.setProperty("--bgimg", `url('${bgUrl}')`);
      document.body.style.backgroundImage = `url('${bgUrl}')`;
      document.body.style.backgroundSize = "cover";
      document.body.style.backgroundPosition = "center";
      document.body.style.backgroundAttachment = "fixed";
    };
    testImg.onerror = () => {
      document.documentElement.style.setProperty("--bgimg", "none");
      document.body.style.backgroundImage = "none";
    };
    testImg.src = bgUrl;
  } else {
    document.documentElement.style.setProperty("--bgimg", "none");
    document.body.style.backgroundImage = "none";
  }

  // Theme colors (form CSS uses --c1/--c2)
  const primary = branding.color1 || globalTheme.primary || "#f97316";
  const secondary = branding.color2 || globalTheme.secondary || "#ef4444";
  const background = globalTheme.background || "#0f172a";

  document.documentElement.style.setProperty("--c1", primary);
  document.documentElement.style.setProperty("--c2", secondary);

  // Backward-compatible vars (some forms may use these)
  document.documentElement.style.setProperty("--brand-primary", primary);
  document.documentElement.style.setProperty("--brand-secondary", secondary);
  document.documentElement.style.setProperty("--brand-background", background);
}

function fillProgramNamesFromResponse(resp, formType, selectId) {
  const select = $(selectId);
  if (!select) return;

  const firstOpt = select.querySelector("option") ? select.querySelector("option").outerHTML : '<option value="">Select Program</option>';
  select.innerHTML = firstOpt;

  const formNode = getFormNode(resp, formType) || {};
  const defaults = getDefaultsNode(resp) || {};

  const po = (Array.isArray(formNode.program_options) ? formNode.program_options : []);
  const pr = (Array.isArray(formNode.programs) ? formNode.programs : []);
  const dp = (Array.isArray(defaults.programs) ? defaults.programs : []);
  const list = [...po, ...pr, ...dp];

  const uniq = [...new Set(list.map(x => safeStr(x).trim()).filter(Boolean))];
  uniq.forEach(p => {
    const opt = document.createElement("option");
    opt.value = p;
    opt.textContent = p;
    select.appendChild(opt);
  });
}

// Kept for compatibility (if you add fixed_level dropdown later)
function getFixedLevelFromResponse(resp, formType) {
  const formNode = getFormNode(resp, formType) || {};
  if (formNode.fixed_level) return safeStr(formNode.fixed_level);

  const defaults = getDefaultsNode(resp) || {};
  const fixedLevels = defaults.fixed_levels || {};
  return safeStr(fixedLevels[formType] || fixedLevels["party_attendance"] || "");
}

function applyFixedLevelFromResponse(resp, formType) {
  const levelSelect = $("fixed_level");
  if (!levelSelect) return;

  const level = getFixedLevelFromResponse(resp, formType);
  if (level) {
    levelSelect.value = level;
    levelSelect.disabled = true;
  }
}


const FORM_TYPE = "party_attendance";
    const FIELD_IDS = ["mobile","name","designation","program_name","district","vidhansabha","mandal","attendance_date","attendance_time","remarks"];

    const DISTRICT_DATA = {"eqjSuk":{"3- lcyx<+":["lcyx<+ uxj","lcyx<+ xkeh.k","usijh","VsaVjk u;k","jkeiqj dyka u;k"],"4- tkSjk":["dSykjl","tkSjk uxj","tkSjk xzkeh.k","igkMx<+","ljlSuh"],"5- lqekoyh":["lqekoyh","NSjk","eqaxkoyh","ckxphuh","eqjSuk xkzeh.k"],"6- eqjSuk":["eqjSuk iwoZ","eqjSuk if'pe","eqjSuk nf{k.k","ckuekSj","fjBkSjkdykW","tMs:vk u;k"],"7- fneuh":["fneuh","flgksfu;ka","thxuh","Fkjk","ukoyh cM+kxkao u;k"],"8- vEckg vtk":["vEckg uxj","vEckg xzkeh.k","iksjlk uxj","iksjlk xzkeh.k","uxjk"]},"fHk.M":{"9- vVsj":["vVsj","QwQ","ihijh","lqjiqjk","ljk;?kkj u;k","toklk u;k"],"10- fHk.M":["fHk.M xkzeh.k","egkjk.kk izrki","cu[k.Ms'oj","lqHkk\"kpanz cksl","mejh ]u;kxkao","mejh vdksM+k u;k"],"11- ygkj":["ygkj","vkyeiqj","ncksg","vlokj","fegksuk","eN.M"],"12- esgxkao":["esgxkao","vkek;u","jkSu","xksjeh","lksuh","nanjkSvk"],"13- xksgn vtk":["xksgn uxj","xksgn xkzeh.k","ekS","fprkSjk","ekyuiqj u;k"]},"nfr;k":{"20- lso<+k":["lso<+k uxj","lso<+k xzkeh.k ¼cvqvkiqjk½","bUnjx<+ uxj","bUnjx<+ xzkeh.k","FkjsV u;k"],"21- Hkk.Msj vtk":["lkykSu ch","Hkk.Msj","mUuko ckykth","bZefy;k mUuko xzkeh.k","mMhuk u;k"],"22- nfr;k":["nfr;k uxj","nfr;k xzkeh.k","cMkSuh","mnxqvk","clbZ","lhrkiqj u;k"]},"Xokfy;j uxj":{"15- Xokfy;j":["dksVs'oj egknso","lar jfonkl","ohj nqxkZnkl jkBkSj","jkuh y{ehckbZ","jktk ekuflag rksej","egkjktk vxzlsu u;k"],"16- Xokfy;j iwoZ":["ia- nhun;ky mik/;k;","egkjk.kk izrki","'kghn Hkxr flag","Lokeh jked`\".k","ohj lkojdj","ckcklkgsc vacsMdj u;k"],"17- Xokfy;j nf{k.k":["vVy fcgkjh  oktikbZ","'kghn gsew dkyksuh","MkW- ';kek izlkn eq[kthZ","Lokeh foosdkuan","xqIrs'oj egknso"]},"Xokfy;j xzk -":{"14- Xokfy;j xzkeh.k":["rkulsu csgV","mfVyk","csjtk","iqjkuh Nkouh","dSaVksesaV","fxjokbZ u;k"],"18- fHkrjokj":["fHkrjokj","vkarjh","phuksj","?kkVhxkao","eksguk","y[ks'ojh u;k"],"19- Mcjk vtk":["Mcjk ua-","Mcjk xkza-","fiNksj","fcykSvk","Nhed"]},"';ksiqj":{"1- ';ksiqj":["';ksiqj","cMksnk","ekuiqj","izselj","ik.Mksyk u;k","';ksiqj xzkeh.k u;k","nkarjnk u;k"],"2-fot;iqj":["fot;iqj","ohjiqj","djkgy","xksjl","xlokuh","vxjk u;k","j?kqukFkiqj u;k"]},"f'koiqjh":{"23- djsjk vtk":["djsjk","fljlkSn","djgh","fnukjk","ujoj"],"24- iksgjh":["iksgjh","cSjkM+","lruokM+k ¼ujoj xzkeh.k½","lqHkk\"kiqjk eqMSjh","f>jh&HkVukoj u;k","eq<Sjh&dqaojiqj u;k"],"25- f'koiqjh":["f'koiqjh uxj","f'koiqjh xzkeh.k","f'koiqjh iqjkuh","[kksM+","ohjk&ljok;k u;k","f'koiqjh&fQftdy u;k"],"26- fiNksj":["fiNksj","[kfu;k/kkuk","ckeksjdyk","ek;kiqj","HkkSrh","eqgkjh u;k"],"27- dksykjl":["dksykjl","cnjokl","jUukSn","yqdoklk","[kjkbZ","[krkSjk u;k"]},"xquk":{"28- ckeksjh":["E;kuk","ckeksjh","fljlh",">kxj u;k","mejh u;k"],"29- xquk vtk":["xquk","xquk dSaV","ctjax<","ixkjk","cw<s ckykth u;k"],"30- pkpkSM+k":["pkpkSMk","dqEHkjkt","edlwnux<+",":fB;kbZ","e`xokl","rsyhxkao u;k"],"31- jk?kksx<+":["jk?kksx<+","vkjksu","tkeusj","iuokMh","Qrsgx<+"]},"v'kksd uxj":{"32- v'kksduxj vtk":["v'kksduxj uxj","v'kksduxj xkzeh.k","'kk<kSjk","jktiqj","lksusjk ¼dpukj½","iNkj u;k"],"33- pansjh":["pansjh uxj","pansjh xkzeh.k","bZlkx<+","ubZljk;","<kdksuh ¼vkuaniqj½"],"34- eqaxkoyh":["eqaxkoyh","cgknqjiqj","fiijbZ","lgjkbZ","Fkwoksu","vFkkbZ[ksMk u;k"]},"lkxj":{"35- chuk vtk":["chuk uxj","chuk xkzeh.k","Hkkux<+ u;k","f[keyklk","e.Mh ckeksjk"],"36- [kqjbZ":["[kqjbZ uxj","[kqjbZ xkzeh.k","ekyFkkSu","okanjh","/kukSjk u;k","cjksfn;k dyka u;k"],"37- lqj[kh":["lqj[kh uxj","flgksjk","jkgrx<+","t;flag uxj","fcygjk","jkgrx<+ uxj u;k"],"40- ufj;koyh vtk":["uj;koyh","lkxj xkzeh.k","lnj","edjksfu;k uxj","edjksfu;k xzkeh.k"],"41- lkxj":["lkxj uxj","MkW- gfjflag xkSj","MkW- Hkhejko vEcsdj",";equkrkbZ Bkdqj u;k"]},"lkxj xzkeh.k":{"38- nsojh":["nsojh uxj","dslyh","xksj>kej","egkjktiqj","lgtiqj","vuariqjk u;k"],"39- jsgyh":["jgsyh uxj","jgsyh xkzeh.k","x<+kdksVk uxj","x<+kdksVk xkzeh.k","'kkgiqj","iVuk cqtqxZ u;k","cysg u;k"],"42- c.Mk":["c.Mk uxj","'kkgx<+","cjksgy","nyiriqj","cjk","cjk;Bk u;k","Nkijh u;k"]},"Vhdex<+":{"43- Vhdex<+":["Vhdex<+ uxj","Vhdex<+ xkzeh.k","cMkxkao/klku","dq.Ms'oj","cqMsjk","lkojdj u;k"],"44- trkjk vtk":["trkjk","fy/kksjk","Fkj cjkuk","pansjk","cEgkSjh dyka u;k"],"47- [kjxkiqj":["iysjk","cYnsox<+","[kjxkiqj","dqMhyk","nsjh u;k"]},"fuokM+h":{"45- i`Fohiqj":["i`Fohiqj uxj","i`Fohiqj xzkeh.k u;k","eksgux<+","tSjksu","fnxksM+k"],"46- fuokMh":["fuokMh uxj","fuokM+h xzkeh.k u;k","vksjNk","rjhpdyk","uSxqvk u;k"]},"Nrjiqj":{"48- egkjktiqj":["egkjktiqj","ukSxkao uxj","gjikyiqj","yqxklh","x<+heygjk u;k"],"49- pUnyk":["pUnyk","ckjhx<+","ljobZ","ckNkSu","xkSjhgkj u;k"],"50- jktuxj":["jktuxj","cehBk","yodq'k uxj","[ktqjkgks","fodzeiqj  u;k"],"51- Nrjiqj":["Nrjiqj uxj","Nrjiqj xzkeh.k","egsok","iM+fj;k","fuokjh u;k"],"52- fctkoj":["fctkoj","lVbZ","bZlkuxj","fd'kux<+","ekrxqoka u;k"],"53- cM+k eysgjk":["cM+keysgjk uxj","cM+keysgjk xzkeh.k","?kqokjk","cDlokgk","cktuk u;k"]},"iUuk":{"58- iobZ":["iobZ","'kkguxj","jSiqjk","eksgUnzk] eksgjkZ flefj;k","dYnk ¼vkfnoklh½","fclkuh u;k","flefj;k u;k"],"59- xqUukSj vtk":["vekuxat","xqUukSj","nsosUnz uxj","lysgk","ddjgVh","egsck u;k"],"60- iUuk":["iUuk uxj","iUuk xzk-","vt;x<+","/kjeiqj","c`tiqj","chjk u;k"]},"lruk":{"61- fp=dqV":["fcjflagiqj","e>xoka","cjkS/kk","tSrokjk","fp=dqV u;k"],"62- jSxkao vtk":["lksgkoy","flagiqj","dksBh","lsejokjk","Hkjtwuk  u;k"],"63- lruk":["lruk uxj if'peh ¼dq'kkHkkÅ Bkdjs½","lruk iwohZ  ¼ia- nhun;ky mik/;k;½","ckcwiqj","vVy fcgkjh oktis;h","MkW- ';kek izlkn eq[kthZ u;k"],"64- ukxkSn":["ukxkSn","mpsgjk","ijlefu;k","vVjk","tlks","Hkjgqr  u;k"],"67- jkeiqj c?ksyku":["jkeiqj c?ksyku","eksgkjh dVjk","dksVj","lTtuiqj","fNckSjk"]},"eSgj  u;k ftyk":{"65- eSgj":["esSgj uxj","uknu","cnsjk","venjk","lksuokjh u;k","csjek u;k"],"66- vejikVu":["vejikVu","jkeuxj","rkyk","e;kZnkiqj","dBgk u;k","cM+okj u;k"]},"jhok":{"68- fljekSj":["fljekSj","tok","MHkkSjk","cSdq.Biqj u;k","vrjSyk u;k"],"69- lsefj;k":["lsefj;k","'kkgiqj","cudqab;k","eudgjh  u;k"],"70- R;kFkkSj":["R;kSFkj","x<+h","jk;iqj lksukSjh","dVjk u;k"],"73- euxoka vtk":["euxoka","jkeiqj lfdZy","ykyxkao ¼x<½","nsokl u;k","lwjk u;k"],"74- jhok":["vVy ¼jhok uxj½","jhok xzkeh.k","fcfN;k","cksnkckx ¼nhun;ky½"],"75- xq<+":["xq<+","xksfoUnx<+","jk;iqjdqpZfy;ku","eglkao u;k"]},"eÅxat  u;k ftykk":{"71- emxat":["emxat","guqeuk","[kVdjh","'kkgiqj u;k","fiijkgh u;k"],"72- nsorkykc":["nsorkykc","j?kqjkt x<+","ubZx<+h","lhrkiqj","rejh u;k"]},"lh/kh":{"76- pqjgV":["pqjgV","jkeiqjuSfdu","[kM~Mh","iVijk","pksjxM+h","iM+[kqjh u;k","guqekux<+ u;k"],"77- lh/kh":["lh/kh uxj","dqpokgh","lsefj;k","cjeckck","vejiqj","pkSQky"],"78- flagkoy":["flagkoy","cgjh","lksuo\"kkZ","vfefy;k u;k","ek;kiqj u;k"],"82- /kkSguh vttk":["e>kSyh","eMokl","dqleh","ikSaMh fuokl","[kMkSjk u;k"]},"flaxjkSyh":{"79- fprjaxh vttk":["fprjaxh","xkSjch","cxnjk","dFkqZvk","ekSgfj;k","cxS;k"],"80- flaxjkSyh":["flaxjkSyh","cS<u","fr;jk","foU/;uxj","t;Ur uxj"],"81- nsolj vtk":["[kqVkj","ekMk","ljbZ","cjxoka","ya?kkMksy","jtfeyku"],"82- /kkSguh":["fuokl","jtfu;k  u;k"],"78- flagkoy":["nsolj ft;kou","ukSfM+;k"]},"'kgMksy":{"83- C;kSgkjh vttk":["ck.klkxj","C;kSgkjh","iikS/k","lh/kh","vkeMhg ¼djdh½","fVdgh u;k","eÅ u;k"],"84- t;flag uxj vttk":["t;flag uxj","xksgik:","'kgMksy uxj","lksgkxiqj","flagiqj","pqgjh  u;k"],"85- tSriqj vttk":["cq<kj","[kSgjk","/kuiqjh","ds'kokgh","tSriqj","cdgks u;k"]},"vuwiiqj":{"86- dksrek":["dksrek uxj","dksrek xkzeh.k","fctqjh uxj","jktuxj uxj","jktuxj xzkeh.k"],"87- vuwiiqj":["vuwiiqj uxj","vuwiiqj xkzeh.k","Qquxk","ilku","tSrgjh"],"88- iq\"ijktx<+ vttk":["vejdaVd","jktsUnzxkze uxj","csuhokjh","djik","oSadV uxj","nesgMh  u;k"]},"mefj;k":{"89- cka/kx<+ vttk":["pafn;k","mefj;k uxj","mefj;k xzkeh.k","djdsyh","ukSjkstkckn","fcykliqj u;k","dksgdk  u;k"],"90- ekuiqj vttk":["vejiqj","ekuiqj","ikyh uxj","ikyh xzkeh.k","fiifj;k","fctkSjh u;k","banokj u;k"]},"tcyiqj uxj":{"97- tcyiqj iwoZ vtk":["MkW- ';ke izlkn eq[kthZ","yksdekU; cky xaxk/kj fryd","'kghn vCnqy gehn","usrk th lqHkk\"kpanz cksl"],"98- tcyiqj mRrj":["'kghn pUnz'ks[kj vktkn","Lokeh foosdkuan","ia- nhun;ky mik/;k;","dq'kkHkkÅ Bkdjs","vkpk;Z fo|klkxj  u;k"],"99- tcyiqj dsUV":["ohj lkojdj","'kghn Hkxr flag","N=ifr f'kokth","vVy fcgkjh oktis;h"],"100- tcyiqj if'pe":["fxjhjkt fd'kksj diwj","jkuh nqxkZorh","eka ueZnk","egkjk.kk izrki","egf\"kZ okfYedh  u;k"]},"tcyiqj xkz-":{"95- ikVu":["ikVu","e>ksyh if'pe","e>ksyh iwoZ","dVaxh","iksMk","uqulj"],"96- cjxh":["cjxh","pjxoka","'kgiqjk","HksMk?kkV","fryokjk","csy[ksM+k"],"101- iukxj":["iukxj uxj","iukxj iwoZ","iukxj if'pe","lksgkxh djesrk","cjsyk","egkjktiqj u;k","jkuh nqxkZorh"],"102- lhgksjk vttk":["lhgksjk uxj","xkslyiqj ¼lhgksjk xzk-½","e>xoka","c?kjkth","dq.Me","pkSjbZ dyka  u;k"]},"dVuh":{"91- cMokjk vttk":["cMokjk","<hej[ksMk","flyksMh","nsojh gVkbZ","dSeksj","foyk;rdyk","iku mefj;k"],"92- fot;jk?kksx<+":["fot; jk?kox<+","fluxksMh","cjgh","f[krkSyh","dkaVh","fiifj;k dyka u;k"],"93- eqMokjk":["eqMokjk ¼dVuhuxj½","ek/kouxj","U;w dVuh","dVuh xkzeh.k","fuokj","Lyheukckn","ia- nhun;ky mik/;k; u;k"],"94- cgksjhcan":["cgksjhcan","jhBh","fcygjh","ckdy","dqvk","nsoxkao  u;k"]},"fM.MkSjh":{"103- 'kkgiqjk vttk":["esganokuh","vejiqj","'kkgiqj","'kgiqjk","ekfudiqj u;k","lDdk  u;k"],"104- fM.MkSjh vttk":["djaft;k","ctkx","leukiqj","fM.MkSjh","xksikyiqj u;k","xkM+kljbZ u;k","cEguh u;k"]},"e.Myk":{"105- fcfN;k vttk":["fcfN;k","eobZ","?kq?kjh","vatfu;k","?kqVkl u;k","lyokg u;k"],"106- fuokl vttk":["fuokl","ukjk;.kxat","chtkgkMh","cdksjh","eksgxkao","ccfy;k u;k"],"107- e.Myk vttk":["e.Myk uxj","e.Myk xzkeh.k","uSuiqj uxj","uSuiqj xzkeh.k","fpjbZ Mksaxjh","cEguh catj uxj","ineh pkSjkg u;k"]},"ckyk?kkV":{"108- cSgj vttk":["fcjlk","eykt[k.M","cSgj","mdok","x<+h","eaMbZ u;k"],"109- ykath":["fdjukiqj","ykath","HkkMjk","Hkkusxkao","dkjatk u;k","ekVs u;k","fclksuh u;k"],"110- ijlokMk":["gV~Vk","ckyk?kkV xzkeh.k","ykeVk","ijlokMk","e>xkao u;k","leukiqj u;k","jtsxkao u;k"],"111- ckyk?kkV":["ckyk?kkV uxj","ykycjkZ","[kefj;k","Hkjosyh","ckyk?kkV mRrj u;k","eksgxkao u;k"],"112- okjkflouh":["okjkflouh uxj","okjkflouh xzkeh.k","[kSjykth","vkjaHkk u;k","jkeik;yh u;k"],"113- dVaxh":["dVaxh","dVksjh","frjksMh","dVaxh if'pe u;k","fejxiqj u;k","egdsikj u;k"]},"flouh":{"114- cj?kkV vttk":["dqjbZ","lq[krjk","cj?kkV","/kkjuk","xaxs:vk"],"115- flouh":["ckjkiRFkj ¼flouh mRrj ½","eaxyhisB ¼flouh nf{k.k½","djdksVh ¼flouh xzkeh.k½","y[kuokMk u;k","eqxokuh","c.Mksy","pekjh","chtknsojh"],"116- dsoykjh":["dsoykjh","Nikjk","mxyh","/kuksjk","dkUghokMk","iykjh","Nhan [kSjykath u;k"],"117-y[kuknkSuvttk":["y[kuknkSu uxj","vkansxkao","?kwek","dgkuh","?kalksj","dsnkjiqj","ukxunsojh u;k"]},"ujflagiqj":{"118- xksVsaxkao vtk":["xksVsxkao uxj","xksVsxkao xzkeh.k","djdcsy","eqaxokuh","Jhuxj u;k","<kaxh<kuk u;k"],"119- ujflagiqj":["ujflagiqj uxj","ujflagiqj xzkeh.k","djsyh uxj","djsyh xzkeh.k","ueZnk","flagiqj u;k"],"120- rsUnw[ksMk":["pkSxku","flgksjk","pkojikBk ¼rsanw[ksM+k½","dkSfM+;k u;k","rsanw[ksM+k u;k"],"121- xkMjokMk":["xkMjokjk uxj","lkbZ[ksMk","phpyh","lkyhpkSdk","vkexkao NksVk u;k"]},"fNanokM+k":{"122- tqUukjnso vttk":["tqUukjnso uxj","tqUukjnso xzkeh.k","neqvk uxj","neqvk xzkeh.k","rkfe;k","pkoyikuh u;k"],"123- vejokMk vttk":["vejokMk uxj","vejokMk xzkeh.k","flaxksMh","cVdk[kkik","gjbZ","fNUnh","lqjyk[kkik"],"124- pkSjbZ":["pkSjbZ uxj","pkSjbZ xzkeh.k","pkan","fcNqvk","dq.Mk","[kekjikuh u;k"],"126- fNUnokMk":["fNUnokMk uxj ¼,d½","fNUnokMk uxj ¼nks½","fNUnokMk xzkeh.k","lkjuk","/kjeVsdM+h u;k","xqykcjk u;k"],"127- ijkfl;k vtk":["ijkfl;k uxj","ixkjk ¼ijkfl;k xzk-½","mejsB","f'koiqjh","iViM+k u;k"]},"ika<q.kkZ u;k ftyk":{"125- lkSlj":["lkSlj","yks/kh[ksMk xzk-","fiiY;kukjk;.kokj","eksg[ksMk","jkekdksuk u;k","fyaxk u;k"],"128- ika<q.kkZ vttk":["ika<q.kkZ uxj","ika<q.kkZ xzk-","uanuokMh","lkojh","dq'kkHkkÅ Bkdjs u;k","';kekizlkn eq[kthZ ¼nsox<+½ u;k"]},"ueZnkiqje~":{"136- flouh ekyok":["flouhekyok uxj","flouhekyok xzkeh.k","dslyk","f'koiqj","HkhyVnso","Mksyfj;k"],"137- ueZnkiqje~":["ueZnkiqje~ uxj","ueZnkiqj uxj","bVkjlh uxj","iqjkuh bVkjlh","ueZnkiqje~ xzkeh.k"],"138- lksgkxiqj":["lksgkxiqj","lsejh","ek[ku uxj ¼ckobZ½","vkjh ckcbZ if'pe","jkeiqj","'kksHkkiqj"],"139- fiifj;k vtk":["fiifj;k uxj","fiifj;k xzkeh.k","cu[ksMh uxj","iape<+h","pkankSu xzkeh.k","[kkij[ksM+k","cu[ksMh xzkeh.k u;k"]},"gjnk":{"134- fVejuh vttk":["fVejuh","dk;nk u;k","jsgVxkao","fljkyh","djrkuk u;k","igVdyka  u;k"],"135- gjnk":["gjnk uxj","gjnk xzk-","f[kjfd;k","gkf.M;k","lksurykbZ u;k","pk:ok u;k"]},"cSrwy":{"129- eqyrkbZ`":["eqyrkbZ uxj","eqyrkbZ xzkeh.k","izHkkr iVV~ue","nqukok","eklkSnk"],"130- vkeyk vtk":["vkeyk uxj","vkeyk xzkeh.k","lkj.kh uxj","lkj.kh xzkeh.k","eksj[kk"],"131- cSrwy":["cSrwy xat","crwy xzkeh.k","cSrwy cktkj","vkBusj uxj","cMksjk","dksBh cktkj"],"132- ?kksMkMksaxjh vttk":["?kksMkMksaxjh","fppksyh uxj","fppkSyh xzkeh.k","'kkgiqj","HkkSjk","pksiuk","ik<j"],"133- HkSalnsgh vttk":["HkSalnsgh uxj","HkSalnsgh xzkeh.k","vkBusj xzkeh.k","Hkheiqj","nkethiqjk","jruiqj u;k","lkoyes<+k u;k"]},"Hkksiky uxj":{"150- Hkksiky mRrj":["jkuh deyirh ¼'kkgtgkukckn½","xq:ukud¼'kkgtgkukckn½","ohj lkojdj ¼cl LVS.M½","jktkHkkst ¼vxzlsu½","uoy 'kkg u;k e.My"],"151- ujsyk":["LVs'ku","lqHkk\"k","Lokeh foosdkuan ¼djksan½","'kghn Hkxr flag ¼djksan½","v'kksdk xkMZu","egkekbZ"],"152- nf{k.k if'pe":["VSxksj  ¼Vh-Vh- uxj½","rkR;kVksis","d:.kk/kke ¼ usg: uxj ½","iap'khy uxj","ekrk 'kcjh u;k"],"153- Hkksiky e/;":["cj[ksMh","pkSd","vjsjk","egkjk.kkizrki","'kkgiqjk"],"154- xksfoaniqjk":["vo/kiqjh","feljksn","lkdsruxj","vkuanuxj","bUnziqjh","Hkkuiqj"],"155- gqtqj":["cSjkx<+ larfgjnkjke uxj","xka/khuxj","MkW- ';kek izlkn eq[kthZ uxj ¼dksykj½","vVy fcgkjh oktis;h ¼dksykj½"]},"Hkksiky xzkeh.k":{"149- cSjfl;k vtk":["uthjkckn","gjkZ[ksMk","cSjfl;k uxj","cSjfl;k xzkeh.k","gfjflf)","ijofy;k lM+d"],"155- gqtqj":["fcyf[kfj;k","QUnk","ia- nhun;ky","uhycM+ ¼jkrhcM+½"]},"jk;lsu":{"140- mn;iqjk":["mn;iqjk","cjsyh uxj","HkkjdPN","nsojh","cjsyh xzkeh.k","[kjxksu u;k e.My","uwjuxj u;k e.My"],"141- Hkkstiqj":["eaMhnhi uxj","vkScsnqYykxat","ckMh","lqYrkuiqj","e.Mhnhi xzkeh.k","Hkkstiqj"],"142- lkaph vtk":["jk;lsu","lkaph","xSjrxat","[kjcbZ","lkWpsr","nsouxj ¼nsoxkao½","xSjrxat xzkeh.k u;k","lykeriqj u;k"],"143- flyokuh":["flyokuh iwoZ","flyokuh if'pe","csxexat ua-","csxexat xzk-","lqYrkuxat xzkeh.k","izrkix<+ u;k"]},"fofn'kk":{"144- fofn'kk":["xqykcxat","oS=ofr ¼fofn'kk uxj½","nqxkZuxj ¼fofn'kk uxj½","cSluxj ¼fofn'kk xzkeh.k½","vgeniqj","<ksy[ksM+h u;k"],"145- cklkSnk":["xatcklksnk uxj","xatcklksnk xzkeh.k","X;kjliqj","R;ksank","fljuksVk u;k"],"146- dqjokbZ vtk":["dqjokbZ","iFkfj;k","esgyqvk pkSjkgk","iBkjh","mn;iqj","nhiuk[ksM+k u;k","vEckuxj u;k"],"147- fljkst":["fljkst uxj","yVsjh","vkuaniqj","fprkoj","nsoiqj"],"148- 'ke'kkckn":["uVsju","'ke'kkckn","[kke[ksMk","lrikMk gkV","nso [kktwjh u;k"]},"lhgksj":{"156- cqnuh":["ul:Yykxat","lyduiqj","'kkgxat","cq/kuh","xksikyiqj","ykM+dqbZ","pdYnh"],"157- vk\"Vk vtk":["vk\"Vk uxj","vk\"Vk xzk-","tkoj","dksBjh","flf}dxat","eSuk u;k","[kkpjksn u;k","MksMh u;k"],"158- bPNkoj":["bPNkoj","fcyfdlxat","cj[ksMh","xqM+Hksyk","nhofM+;k"],"159- lhgksj":["lhgksj uxj&1","';keiqj","nksjkgk","vgeniqj","lhgksj uxj & 2 u;k"]},"jktx<+":{"160- ujflagx<+":["ujflagx<+","dqjkoj","rysu","cksM+k",">kM+yk u;k","e.Mkoj u;k"],"161- C;kojk":["C;kojk","xkfn;k","lqBkfy;k","fiiygsyk","eykoj u;k","fxUnkSjgkV u;k"],"162- jktx<+":["jktx<+","[kqtusj","dkyhihB","iiMsy","djsM+h u;k","fiiyksnh u;k"],"163- f[kyphiqj":["f[kyphiqj","thjkiqj","ekpyiqj","NkihgsM+k","jkex<+ u;k","Hk.Mkon u;k"],"164- lkajxiqj vtk":["lkajxiqj uxj","laMkork","ipkSj","xqykork","iM+kuk u;k"]},"bankSj uxj":{"204- bUnkSj&1":["lqHkk\"kpUnz cksl","y{ehckbZ","lezkV v'kksd","pUnz'ks[kj vktkn","yodq'k","xq: Vsdpan  u;k"],"205- bUnkSj&2":["MkW- vEcsMdj","jkek;.k","ia- nhun;ky mik/;k;","MkW- ';kek izlkn eq[kthZ","larJh eksuh ckck","larJh ckyhukFk","jktekrk thtkckbZ u;k","larJh jfonkl  u;k"],"206- bUnkSj&3":["dq'kkHkkm Bkdjs","nsoh vfgY;k ckbZ","vVy fcgkjh oktis;h","jktsUnz /kkjdj u;k"],"207- bUnkSj&4":["gsew dkyksuh","egkjk.kkizrki","y{e.k flag xkSM","'kghn Hkxr flag"],"208- bUnkSj&5":["f'kokth","ljnkj cYyHk iVsy fryd","N=lky","ohj lkojdj",",s- ih- ts- vCnqy dyke","lar dchjnkl u;k","T;ksfrck Qqys u;k"],"210- jkÅ":["fuHkZ; flag iVsy","lekzV panzxqIr ekS;Z","xq: xksfoan flag"],"203- nsikyiqj":["ljnkj iVsy"],"211- lkaosj":["fuikfu;k"]},"bankSj xkz-":{"209- egw":["Hkhejko vacsMdj &dksnfj;k","dsth ekgs’ojh& eagw uxj","'kghn VaV~;kekek& flejksy","Hks:yky ikVhnkj& eagwxkao","Hkxoku ij’kqjke& ekuiqj"],"203- nsikyiqj":["pkSchl vorkj& nsikyiqj","/kUukyky iVSy& xkSreiqjk","xq:ukud nso& csVek","egkjkt ;’koar jko& gkrksn"],"211- lkaosj":["izdk'k lksudj& lkaosj","eka f’kizk& f'kizk","eka vfgY;k& ikfy;k","eka ueZnk &[kqMsy"],"210- jkÅ":["jkÅ","dSyk'k ikVhnkj","jkÅ xzkeh.k u;k"]},"[k.Mok":{"175- eka/kkrk":["iquklk","fdYyksn","ewanh","vksadkjs'oj","dkosjh u;k"],"176- gjlwn":["gjlwn uxj","gjlwn xzkeh.k","jks'kuh","[kkyok","[kkj","vk'kkiqj u;k"],"177- [k.Mok vttk":["dq'kkHkkm Bkdjs  ¼[k.Mok uxj½","vVy fcgkjh oktis;h","tkoj ¼[k.Mok xzk-½","veyiqjk","ia- nhun;ky mik/;k; u;k"],"178- ia/kkuk vttk":["ia/kkuk","NSxkao ek[ku","cksjxkao","fppxksgu","xqMh[ksM+k","flaxksB"]},"cqjgkuiqj":{"179- usikuxj vttk":["usikuxj uxj-","ukojk ¼usikuxj xzk-½","[kdukj","/kqydksV","vVyfcgkjh cktis;h¼n;kZiqj½","dq'kkHkkÅ Bkdjs"],"180- cqjgkuqij":["cgknjiqj ¼cqjgkuiqj uxj½","MkW-';kek izlkn eq[kthZ ykyckx ¼cqjgkuiqj xzk-½","yksdekU; fryd","ljnkj cYyHk HkkbZ iVsy","'kkgiqj","iafMr nhun;ky mik/;k;","yksdekrk vfgY;k nsoh u;k"]},"[kjxkSu":{"181-  Hkhduxkao vttk":["Hkhduxkao","f>jU;k","fpfj;k","vkHkkiqjh ¼f'kouk½ u;k","Hkhduxkao ¼if'pe½ u;k"],"182- cM+okg":["cM+okg uxj","cM+okg xzk-","lukon uxj","lukon xzk-","cSfM+;k"],"183- egs'oj vtk":["egs'oj","djgh","cyokM+k","eaMys'oj"],"184- dljkon":["dljkon iwoZ","dljkon if'pe","vanM+","dljkon nf{k.k u;k","dljkon uxj u;k"],"185- [kjxkSu":["[kjxkSu uxj ¼iwoZ½","[kjxkSu xzk-","xksxkok","[kjxkSu uxj ¼if'pe½ u;k"],"186- Hkxokuiqjk vttk":["Hkxokuiqjk","fcLVku","lSxkao","c:M+","fljosy egknso u;k"]},"cM+okuh":{"187- lsa/kok vttk":["lsa/kok uxj","las/kok xzkeh.k","/kuksjk","cyokM+h","pkpfj;k","/koyh","'kkgiqjk u;k"],"188- jktiqj vttk":["jktiqj","tqyokuh;k","Bhdjh","vatM+","ryokMk","vks>j"],"189- ikulsey vttk":["ikulsey uxj","pkVyh","[ksfr;k","iylwn","fuokyh","tyxksu u;k"],"190- cM+okuh vttk":["cM+okuh uxj","cM+okuh xzkeh.k","ikVh","flykon","xa/kkoy cksdjkVk","Hkorh fctklu","es.khekrk"]},"vyhjktiqj":{"191- vyhjktiqj vttk":["vyhjktiqj uxj","vyhjktiqj xzkeh.k","lkSjok","Ndryk","lks.Mok","mejkyh u;k"],"192- tkscV vttk":["pUnz'ks[kj vktkn uxj","mn;x<+","dVVhokM+k","tkscV","[kVVkyh","vkEcqvk","cj>j"]},">kcqvk":{"193- >kcqvk vttk":[">kcqvk uxj","fiVksy ¼>kcqvk xzk-½","nso>jh u;k","jk.kkiqj","ou ¼jk.kkiqj xzk-½","dY;k.kiqjk","cksjh"],"194- Fkkanyk vttk":["Fkkanyk","dkduokuh  ¼Fkkanyk xzk-½","es?kuxj","enjkuh","ukSxkaok","[koklk"],"195- isVykon vttk":["isVykon","lkjaxh ¼isVykon xzk-½","jk;iqfj;k","ikjk","jkek","dqanuiqj",">dukon u;k"]},"/kkj":{"196- ljnkjiqj vttk":["ljnkjiqj","jktx<+ uxj","jktx<+ xzkeh.k","ve>sjk nlkbZ","ykcfj;k ¼jktksn½"],"201- /kkj":["dq'kkHkkm Bkdjs","/kkj xzkeh.k","frjyk","fnXBku","ihFkeiqj","lsukifr","lkxkSj"],"202- cnukoj":["cnukoj uxj","cnukoj xzk-","dkuou","lknyiqj","c[krx<+","fcMoky"]},"/kkj xzkeh.k":{"197- xa/kokuh":["xa/kokuh","ckx","dNkonk","thjkckn","Vk.Mk"],"198- dq{kh vttk":["dq{kh uxj","dq{kh xzkeh.k","fuljiqj","Mgh","cMnk"],"199- eukoj vttk":["eukoj uxj","eukoj xzk-","mejcu","fla?kkuk","ckdkusj"],"200- /kjeiqjh vttk":["/kjeiqjh","/kkeuksn","uky{kk","xqtjh","cxM+h u;k"]},"mTtSu uxj":{"216- mTtSu mRrj":["nkSyrxat","ljkQk","thokthxat","dkfrZd pkSd","fodzekfnR;","MkW- ';kek izlkn eq[kth  u;k"],"217- mTtSu nf{k.k":["ek/kouxj","ds'kouxj","egkjktokMk","ia- nhun;ky","'kghn jktHkkÅ egkdky  u;k"]},"mTtSu xzk-":{"212- ukxnk":["ukxnk uxj","ukxnk xzkeh.k","[kkpjkSn uxj","[kkpjkSn xzkeh.k","[kkpjkSn xzkeh.k ¼nf{k.k½ u;k","ukxnk fcjykxzke u;k"],"213- efgniqj":["efgniqj uxj","efgniqj xzkeh.k",">kjMk","efgniqj jksM+"],"214- rjkuk vtk":["rjkuk uxj","rjkuk xzkeh.k","ekdMksu","dukfl;k"],"215- ?kfV;k vtk":["?kfV;k","rktiqj","ikufcgkj","mUgsy"],"218- cMuxj":["cMuxj uxj","cMuxj xzkeh.k","bUxksfj;k","[kjlksndyka","[kjlkSn [kqnZ u;k"],"217- mTtSu nf{k.k":["mTTkSu xzkeh.k ¼nf{k.k½"]},"'kktkiqj":{"167- 'kktkiqj":["'kktkiqj uxj","'kktkiqj xzkeh.k","iuokMh","eksgu cMksfn;k","csjNk","eDlh"],"168- 'kqtkyiqj":["'kqtkyiqj uxj","'kqtkyiqj xzkeh.k","vdksfn;k","xqykuk","lqUnjlh"],"169- dkykihiy":["dkykihiy","[kksdjkdyka","vjfu;kdyka","iksyk;dyka","voarhiqj cM+ksfn;k  u;k","ylqfYM;k  u;k"]},"vkxj":{"165- lqlusj":["lqlusj","uy[ksM+k","cM+kxkao","lks;r","eksM+h u;k","eksguk u;k","/kjksyk u;k"],"166- vkxj vtk":["vkxj uxj","dkuM+","cM+kSn","chtkuxjh","vkxj xzkeh.k","ruksfM+;k u;k","endksVk u;k"]},"nsokl":{"170- lksudPN vtk":["Vksd[kqnZ uxj","Vksd[kqnZ xzkeh.k","lksudPN uxj","lksudPN ¼dk'kh½","HkkSjklk u;k"],"171- nsokl":["nsokl lhfu;j","nsokl twfu;j","nsokl xzkeh.k","Jhear egkjktk","lrxq: 'khyukFk u;k"],"172- gkVfiiY;k":["gkVfiiY;k uxj","gkVihiY;k xzkeh.k","cjksBk","f{kizk","jktksnk u;k"],"173- [kkrsxkao":["[kkrsxkao","dUukSn","gjuxkao","usekoj eanlkSj","ikuhxkao u;k"],"174- ckxyh vttk":["ckxyh","lrokl","mn;uxj","dkWVkQksM yksgkjnk","d.ksZ'oj u;k"]},"jryke":{"219- jryke xzk- vtk":["ukeyh","/kjkM","'kcjh","'kghn pUnz'ks[kj vktkn","ckaxjksn"],"220- jryke flVh":["MkW- ';kek izlkn eq[kthZ","ia- nhun;ky nhun;ky","lwjtey tSu","MkW- vEcsMdj","dq'kkHkkm Bkdjs"],"221- lSykuk vttk":["cktuk","jkoVh f'kox<+","lSykuk","csMnk","jktiqjk"],"222- tkojk":["tkojk xzkeh.k","fiiyksnk","tkojk uxj","lw[ksMk","MkW- y{ehukjk;.k ikaMs u;k"],"223- vkyksV vtk":["vkyksV","rky","cMkonk","Jhear jktekrk fot;kjkts flaf/k;k","tksxf.k;k ekrk"]},"eanlkSj":{"224- eanlkSj":["eanlkSj xzkeh.k","eanlkSj nf{k.k","nykSnk","eanlkSj mRrj","exjk ekrkth  u;k"],"225- eYgkjx<+ vtk":["eYgkjx<+","cw<k cqjgkuiqj","?kqU/kMdk","fiiY;ke.Mh","xqtZj cfM+Z;k u;k"],"226- lqokljk":["lqokljk","lhrkem uxj","lhrkem xzkeh.k","d;keiqj","'kkex<+","clbZ u;k"],"227- xjksB":["xjksB","Hkkuiqjk","esy[ksMk","HkSlksnk","[kMkonk"]},"uhep":{"228- euklk":["';kekizlkn eq[kthZ ¼euklk uxj½","ia- nhun;ky  ¼euklk xzkeh.k½","dqdMs'oj","jkeiqjk","dq'kkHkkÅ Bkdjs ¼euklk½ u;k"],"229- uhep":["ia- nhun;ky ¼uhep flVh½","Hkknokekrk","uhep mRrj","uhep nf{k.k","';kekizlkn eq[kthZ ¼c?kkuk½","dq'kkHkkÅ Bkdjs ¼uhep½ u;k"],"230- tkon":["tkon","eksjou","jrux<","flxksyh"]}};
    // ===============================
// LOCATION HELPERS (district -> vidhansabha -> mandal)
// ===============================
function initDistrictCascade() {
  const dEl = $("district");
  const vEl = $("vidhansabha");
  const mEl = $("mandal");
  if (!dEl || !vEl || !mEl) return;

  // Populate Districts
  dEl.innerHTML = '<option value="">— जिला चुनें —</option>';
  Object.keys(DISTRICT_DATA).sort((a,b)=>a.localeCompare(b,"hi")).forEach((d) => {
    const opt = document.createElement("option");
    opt.value = d;
    opt.textContent = d;
    dEl.appendChild(opt);
  });

  dEl.addEventListener("change", () => {
    const dVal = dEl.value;
    vEl.innerHTML = '<option value="">— विधानसभा चुनें —</option>';
    mEl.innerHTML = '<option value="">— पहले विधानसभा चुनें —</option>';
    vEl.disabled = !dVal;
    mEl.disabled = true;

    if (dVal && DISTRICT_DATA[dVal]) {
      Object.keys(DISTRICT_DATA[dVal]).sort((a,b)=>a.localeCompare(b,"hi")).forEach((v) => {
        const opt = document.createElement("option");
        opt.value = v;
        opt.textContent = v;
        vEl.appendChild(opt);
      });
    }
  });

  vEl.addEventListener("change", () => {
    const dVal = dEl.value;
    const vVal = vEl.value;
    mEl.innerHTML = '<option value="">— मंडल चुनें —</option>';
    mEl.disabled = !vVal;

    if (dVal && vVal && DISTRICT_DATA[dVal] && DISTRICT_DATA[dVal][vVal]) {
      DISTRICT_DATA[dVal][vVal].slice().sort((a,b)=>a.localeCompare(b,"hi")).forEach((m) => {
        const opt = document.createElement("option");
        opt.value = m;
        opt.textContent = m;
        mEl.appendChild(opt);
      });
    }
  });
}

function applyLocationAutofill(info) {
  // info: {district, vidhansabha, mandal}
  if (!info) return;
  const d = safeStr(info.district).trim();
  const v = safeStr(info.vidhansabha).trim();
  const m = safeStr(info.mandal).trim();

  if (d && $("district")) {
    $("district").value = d;
    $("district").dispatchEvent(new Event("change"));
    setTimeout(() => {
      if (v && $("vidhansabha")) {
        $("vidhansabha").value = v;
        $("vidhansabha").dispatchEvent(new Event("change"));
        setTimeout(() => {
          if (m && $("mandal")) $("mandal").value = m;
        }, 120);
      }
    }, 120);
  }
}

    let remoteCfg = null;


    function setupLiveBrandSync() {
      try {
        if (!CID) return;
        window.addEventListener("storage", async (e) => {
          if (e.key === `EL_BRAND_PING_${CID}`) {
            const remoteResp = await loadRemoteConfig(FORM_TYPE);
            if (remoteResp) {
              applyBrandingFromResponse(remoteResp, FORM_TYPE);
              fillProgramNamesFromResponse(remoteResp, FORM_TYPE, "program_name");
              applyFixedLevelFromResponse(remoteResp, FORM_TYPE);
            }
          }
        });
      } catch (e) {
        // ignore
      }
    }

    async function initAll() {
  // remote config (branding + programs)
  const remoteResp = await loadRemoteConfig(FORM_TYPE);
  if (remoteResp) {
    applyBrandingFromResponse(remoteResp, FORM_TYPE);
    fillProgramNamesFromResponse(remoteResp, FORM_TYPE, "program_name");
    applyFixedLevelFromResponse(remoteResp, FORM_TYPE);
  }

  // Live sync: when admin saves branding in another tab, refresh automatically
  setupLiveBrandSync();

  // init district cascade after config load (no change)
  initDistrictCascade();

}


    
  // Auto-refresh config when tab regains focus (so latest Programs appear)
  async function refreshConfigIfVisible() {
    try {
      if (document.visibilityState !== "visible") return;
      const remoteResp = await loadRemoteConfig(FORM_TYPE);
      if (remoteResp) {
        applyBrandingFromResponse(remoteResp, FORM_TYPE);
        fillProgramNamesFromResponse(remoteResp, FORM_TYPE, "program_name");
        applyFixedLevelFromResponse(remoteResp, FORM_TYPE);
      }
    } catch(e) {}
  }
  window.addEventListener("focus", refreshConfigIfVisible);
  document.addEventListener("visibilitychange", refreshConfigIfVisible);

document.addEventListener("DOMContentLoaded", initAll);

    // Mobile Auto-fill
    let mobileTimer = null;
    async function tryLookupMobile() {
      const mobile = ($("mobile").value || "").trim();
      if (mobile.length !== 10) return;

      $("mobile-loader").classList.remove("hidden");
      $("user-found-msg").classList.add("hidden");

      try {
        const payload = isPublicMode()
          ? { token, form_type: FORM_TYPE, mobile }
          : { collection_id: cidParam, form_type: FORM_TYPE, mobile };
        const action = isPublicMode() ? "public_lookup_mobile" : "lookup_mobile";
        const res = await apiCall(action, payload);

        const info = res && (res.profile || res.data || res);
        if (info && (info.name || info.designation || info.district || info.vidhansabha || info.mandal)) {
          if (info.name) $("name").value = info.name;
          if (info.designation) $("designation").value = info.designation;
          applyLocationAutofill(info);
          $("user-found-msg").classList.remove("hidden");
        }
      } catch (e) {
        if (debug) console.log("lookup failed", e);
      } finally {
        $("mobile-loader").classList.add("hidden");
      }
    }

    $("mobile").addEventListener("input", () => {
      clearTimeout(mobileTimer);
      $("user-found-msg").classList.add("hidden");
      const m = ($("mobile").value || "").trim();
      if (m.length === 10) mobileTimer = setTimeout(tryLookupMobile, 500);
    });
    $("mobile").addEventListener("blur", () => {
      clearTimeout(mobileTimer);
      tryLookupMobile();
    });

    // Submit (NO PHOTO)
    $("f").addEventListener("submit", async (e) => {
      e.preventDefault();
      const btn = $("submitBtn");
      const old = btn.innerHTML;
      btn.disabled = true;
      btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processing...';
      showStatus("", false);

      try {
        const data = {};
        FIELD_IDS.forEach((id) => {
          const el = $(id);
          if (el) data[id] = (el.value || "").trim();
        });

        if (!data.program_name) throw new Error("कृपया कार्यक्रम चुनें");
        if (!data.district) throw new Error("कृपया जिला चुनें");
        if (!data.vidhansabha) throw new Error("कृपया विधानसभा चुनें");

        let res;
        if (isPublicMode()) {
          res = await apiCall("public_create_entry", {
            token,
            form_type: FORM_TYPE,
            file_kind: "none",
            payload: data
          });
        } else {
          if (!cidParam) throw new Error("Missing Collection ID (cid)");
          res = await apiCall("create_entry", {
            collection_id: cidParam,
            form_type: FORM_TYPE,
            file_kind: "none",
            payload: data
          });
        }

        const finalizeAction = isPublicMode() ? "public_finalize_entry" : "finalize_entry";
        await apiCall(finalizeAction, { finalize_token: res.finalize_token, entry_id: res.entry_id });

        $("main-container").classList.add("hidden");
        $("success-screen").classList.remove("hidden");
      } catch (err) {
        showStatus("❌ " + (err.message || "Error"), true);
        btn.disabled = false;
        btn.innerHTML = old;
      }
    });
    </script>
    </body>
    </html>
